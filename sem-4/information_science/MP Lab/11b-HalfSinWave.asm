.MODEL SMALL
.DATA
    PORTA EQU 0E880H
    CR EQU 0E883H
    ARR DB 7FH,8CH,99H,0A6H,0B2H,0BFH,0CAH,0D4H,0DDH,0E6H,0EDH,0F3H,0F8H,0FDH,0FCH,
        DB 0FBH,0F8H,0F3H,0EDH,0E6H,0DDH,0D4H,0CAH,0BFH,0B2H,0A6H,99H,08CH,7FH,7FH,
        DB 7FH,7FH,7FH,7FH,7FH,7FH,7FH,7FH,7FH,7FH,7FH,7FH,7FH,7FH,7FH,
        DB 7FH,7FH,7FH,7FH,7FH,7FH,7FH,7FH,7FH,7FH,7FH,7FH,7FH,7FH
.CODE
    MOV AX,@DATA
    MOV DS,AX
    MOV AL,80H          ; only port A of 8255 is used as output
    MOV DX,CR
    OUT DX,AL

AGAIN:
    LEA SI,ARR          ; use SI as pointer to array
    MOV DX,PORTA
    MOV CX,37 
BACK:
    LODSB
    OUT DX,AL           ;send it to port (CRO)
    CALL DELAY
    LOOP BACK
    MOV AH,1
    INT 16H
    JZ AGAIN
    MOV AH,4CH
    INT 21H

DELAY PROC
    MOV BX,0FFFH
L1: DEC BX
    JNZ L1
    RET
DELAY ENDP
END